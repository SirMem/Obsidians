---
Project: 
Status: 
tags:
  - Resources
  - C语言
Deadline: 
CreateTime: 2024-04-15
Connected:
---
# 输入输出流
“流”（stream）通常指的是一个顺序的字节序列，它在输入和输出中扮演着重要的角色。流可以是从一个源头流向另一个目的地，或者从目的地返回源头的数据序列。

- 输入流：输入流是程序接收数据的方式，它通常代表从外部数据源（比如键盘、文件等）读取数据到程序中的流。程序可以从输入流中读取数据以进行处理。在许多编程语言中，标准输入流（stdin）是一个常见的输入流，通常用于从键盘接收用户输入。
    
- 输出流：输出流是程序将数据发送到外部的方式，它通常代表从程序向外部设备（比如屏幕、文件等）写入数据的流。程序可以通过输出流向外部设备输出数据。在许多编程语言中，标准输出流（stdout）是一个常见的输出流，通常用于向屏幕输出信息。
# fgets
`fgets()` 函数的返回值是一个指向字符串的指针，指向成功读取的字符串。如果在读取字符串时发生错误或者到达文件末尾，`fgets()` 函数会返回一个空指针（`NULL`）。

因此，通过检查返回值是否为 `NULL`，可以确定是否成功读取了字符串。如果没有发生错误，`fgets()` 函数应该返回一个指向成功读取的字符串的指针，即输入缓冲区的起始地址。

# fflush
`fflush` 通常用于刷新输出流的缓冲区。它的作用是确保缓冲区内的数据被写入到相应的输出设备（例如文件、终端等）。当 `fflush` 被调用时，它会将缓冲区内的数据立即写入到指定的输出设备，然后清空缓冲区，以便接受新的输出数据。

需要注意的是，`fflush` 只对输出流有效，对于输入流调用 `fflush` 是未定义行为。


# strcspn
`strcspn` 函数用于查找字符串中第一个不包含在指定字符集合中的字符，并返回其索引位置。它通常用于在字符串中查找特定字符的位置或者确定字符串中不包含指定字符集合的部分。

`strcspn` 函数的声明如下：

```c
size_t strcspn(const char *str1, const char *str2);
```

其中：
- `str1` 是要搜索的字符串。
- `str2` 是要查找的字符集合，可以是一个字符串。

`strcspn` 函数从 `str1` 的开头开始，逐个字符地比较，直到在 `str2` 中找到一个字符，或者到达了 `str1` 的末尾。它返回在 `str1` 中第一个不包含在 `str2` 中的字符的索引位置。

如果在 `str1` 中没有找到 `str2` 中的任何字符，那么 `strcspn` 函数将返回 `str1` 的长度，表示整个字符串都不包含 `str2` 中的任何字符。

`strcspn` 函数通常用于字符串处理任务，比如从用户输入中过滤掉某些特殊字符，或者在解析字符串时确定特定字符的位置。

如`cmdline[strcspn(cmdline,"\n")] = "\0";`

# strcmp
`strcmp(cmdline, "quit")` 是一个函数调用，用于比较两个字符串的内容是否相等。

```c
int strcmp(const char *str1, const char *str2);
```

- `str1` 是第一个字符串。
- `str2` 是第二个字符串。

`strcmp` 函数返回一个整数值，表示两个字符串的比较结果：

- 如果 `str1` 小于 `str2`，则返回一个负数（通常是 -1）。
- 如果 `str1` 等于 `str2`，则返回0。
- 如果 `str1` 大于 `str2`，则返回一个正数（通常是 1）。

在这个特定的例子中，`strcmp(cmdline, "quit")` 将会比较 `cmdline` 字符串和 "quit" 字符串的内容。如果两者相等，也就是用户输入的命令行是 "quit"，则 `strcmp` 返回0；否则，返回一个非零值。